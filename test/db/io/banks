NAME=ob banks
FILE=malloc://1024
CMDS=<<EOF
om
ob+ map 1
ob+ nomap
ob nomap
om
ob map
om
ob-*
ob -1
EOF
EXPECT=<<EOF
* 1 fd: 3 +0x00000000 0x00000000 - 0x000003ff rwx
* 1 fd: 3 +0x00000000 0x00000000 - 0x000003ff rwx
* 1 fd: 3 +0x00000000 0x00000000 - 0x000003ff rwx
Usage: ob[jq,+] [fd]  Operate on memory banks
| ob          list all memory banks
| ob [id]     switch to use a different bank
| ob+[name]   create a new bank with given name
| oba [id]    adds a map to the bank
| obd [id]    deletes a map from the bank
| ob-*        delete all banks
| ob-[mapid]  delete the bank with given id
| obg         associate all maps to the current bank
| obq         show current bankid
EOF
RUN

NAME=ob+
FILE=malloc://1024
CMDS=<<EOF
ob+ one
ob+ two
ob
EOF
EXPECT=<<EOF
* 0 default [ 1 ]
- 1 one [ ]
- 2 two [ ]
EOF
RUN

NAME=ob name deletes them all (BUG)
BROKEN=1
FILE=malloc://1024
CMDS=<<EOF
ob+ one
ob
ob one
ob
EOF
EXPECT=<<EOF
1: one 

1: one 

EOF
RUN
