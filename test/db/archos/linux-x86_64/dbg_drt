NAME=drt
BROKEN=1
FILE=bins/elf/sse2-add
ARGS=-d
CMDS=<<EOF
# pri register bank is unexpected here
drt
EOF
EXPECT=<<EOF
gpr
drx
fpu
mmx
xmm
ymm
flg
seg
EOF
RUN

NAME=drt gpr
FILE=bins/elf/sse2-add
ARGS=-d
CMDS=<<EOF
drt gpr~[0]
EOF
EXPECT=<<EOF
rax
eax
ax
ah
al
rbx
ebx
bx
bh
bl
rcx
ecx
cx
ch
cl
rdx
edx
dx
dh
dl
r8
r8d
r8w
r8b
r9
r9d
r9w
r9b
r10
r10d
r10w
r10b
r11
r11d
r11w
r11b
r12
r12d
r12w
r12b
r13
r13d
r13w
r13b
r14
r14d
r14w
r14b
r15
r15d
r15w
r15b
rsi
esi
si
sil
rdi
edi
di
dil
rsp
esp
sp
spl
rbp
ebp
bp
bpl
rip
rflags
eflags
cf
pf
af
zf
sf
tf
if
df
of
orax
EOF
RUN

NAME=drt flg
BROKEN=1
FILE=bins/elf/sse2-add
ARGS=-d
CMDS=<<EOF
drt flg~[0]
EOF
EXPECT=<<EOF
rflags
eflags
cf
pf
af
zf
sf
tf
if
df
of
EOF
RUN

NAME=drt all
FILE=bins/elf/sse2-add
ARGS=-d
CMDS=<<EOF
drt all~[0]
EOF
EXPECT=<<EOF
r15b
r15w
cwd
r15d
r15
dr0
ymm0
swd
ftw
fop
r14b
r14w
r14d
r14
dr1
frip
r13b
r13w
r13d
r13
dr2
frdp
r12b
r12w
r12d
mxcsr
r12
dr3
mxcr_mask
bpl
bp
ebp
rbp
mm0
st0
ymm1
bl
bx
ebx
rbx
bh
r11b
r11w
r11d
r11
dr6
mm1
st1
r10b
r10w
r10d
r10
dr7
r9b
r9w
r9d
r9
mm2
st2
ymm2
r8b
r8w
r8d
r8
al
ax
eax
rax
mm3
st3
ah
cl
cx
ecx
rcx
ch
dl
dx
edx
rdx
mm4
st4
dh
ymm3
sil
si
esi
rsi
dil
di
edi
rdi
mm5
st5
orax
rip
mm6
st6
ymm4
cs
cf
eflags
pf
rflags
mm7
af
st7
zf
sf
tf
if
df
of
spl
sp
esp
rsp
ss
xmm0l
xmm0
ymm5
fs
xmm0h
gs
xmm1l
xmm1
ds
xmm1h
es
xmm2l
xmm2
ymm6
fs_base
xmm2h
gs_base
xmm3l
xmm3
xmm3h
xmm4l
xmm4
ymm7
xmm4h
xmm5l
xmm5
xmm5h
xmm6l
xmm6
ymm8
xmm6h
xmm7l
xmm7
xmm7h
xmm8l
xmm8
ymm9
xmm8h
xmm9l
xmm9
xmm9h
xmm10l
xmm10
ymm10
xmm10h
xmm11l
xmm11
xmm11h
xmm12l
xmm12
ymm11
xmm12h
xmm13l
xmm13
xmm13h
xmm14l
xmm14
ymm12
xmm14h
xmm15l
xmm15
xmm15h
x64
ymm13
ymm14
ymm15
EOF
RUN
