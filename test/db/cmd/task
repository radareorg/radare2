NAME=&
FILE=-
CMDS=<<EOF
& ?e Hello\nfrom\na task!
&& 1
&= 1
EOF
EXPECT=<<EOF
[1] ?e Hello\nfrom\na task!
Hello
from
a task!

EOF
RUN

NAME=& + grep
FILE=-
CMDS=<<EOF
'& ?e Hello\nfrom\na task!~task
&& 1
&= 1
EOF
EXPECT=<<EOF
[1] ?e Hello\nfrom\na task!~task
a task!

EOF
RUN

NAME=& + grep 2
FILE=-
CMDS=<<EOF
'& ?e Hello\nfrom\na task!~task
&& 1
&= 1
EOF
EXPECT=<<EOF
[1] ?e Hello\nfrom\na task!~task
a task!

EOF
RUN

NAME=& list
BROKEN=1
FILE=-
CMDS=<<EOF
& ?e hello
& ?e world
&
?e --
&& 2
&=2
EOF
EXPECT=<<EOF
[1] ?e hello
[2] ?e world
id mode   fg state        transient cmd
---------------------------------------
0  coop   *  running      false     -- MAIN TASK --
1  thread    running      false     ?e hello
2  thread    before start false     ?e world

total running: 1
--

EOF
RUN
