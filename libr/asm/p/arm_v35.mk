# vector35 arm64 disassembler

OBJ_ARMV35=asm_arm_v35.o
OBJ_ARMV35+=asm_arm_v35_v7.o
V35ARM64_HOME=arch/arm/v35arm64/
OBJ_ARMV35+=$(V35ARM64_LINK)
OBJ_ARMV35+=$(V35ARMV7_LINK)

STATIC_OBJ+=${OBJ_ARMV35}
SHARED_OBJ+=${SHARED_ARMV35}
TARGET_ARMV35=asm_arm_v35.${LIBEXT}

ALL_TARGETS+=${TARGET_ARMV35}

%.o: %.c
	$(CC) $(V35ARM64_CFLAGS) $(V35ARMV7_CFLAGS) $(CFLAGS) -o $@ -c $<

$(OBJC_ARM64V35): $(V35ARM64_SRCDIR) $(ARM64_LINK)
$(OBJC_ARMV7V35): $(V35ARMV7_SRCDIR) $(ARMV7_LINK)

${TARGET_ARMV35}: $(V35ARM64_LINK) $(OBJ_ARMV35)
	${CC} $(call libname,asm_arm_v35) -o $(TARGET_ARMV35) \
		$(V35ARMV7_LDFLAGS) \
		$(V35ARMV7_CFLAGS) \
		${OBJ_ARMV35} $(V35ARM64_LDFLAGS) \
		${LDFLAGS} $(V35ARM64_CFLAGS) $(CFLAGS)

include $(CURDIR)/../arch/arm/v35arm64/deps-arm64.mk
# include arch/arm/v35arm64/deps-armv7.mk
